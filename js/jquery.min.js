
    $(document).ready(function(){
        // Initialize the first carousel with navigation arrows
        $(".owl-carousel-1").owlCarousel({
            items: 4,
            loop: false,
            margin: 10,
            nav: true,
            navText: ['<div class="owl-prev">‹</div>', '<div class="owl-next">›</div>'],
            dots: false,
            responsive: {
                0: {
                    items: 1
                },
                456: {
                    items: 2
                },
                768: {
                    items: 3
                },
                1024: {
                    items: 3
                },
                1200: {
                    items: 4
                }
            }
        });
        
    
        // Initialize the second carousel with custom reverse autoplay
        var owl2 = $(".owl-carousel-2");
        var autoplaySpeed = 3000; // 3 seconds
        var reverse = false;
    
        owl2.owlCarousel({
            items: 3,
            loop: false,      // No looping
            margin: 10,       // Space between items
            nav: false,       // Disable navigation arrows
            dots: false,      // Dots are also disabled (can enable if needed)
            autoplay: false,  // Disable default autoplay
            responsive: {
                0: {
                    items: 1   // 1 item on small screens
                },
                456: {
                    items: 2   // 2 items on medium screens
                },
                768: {
                    items: 3   // 3 items on larger screens
                },
                1024: {
                    items: 4   // 4 items on wide screens
                }
            }
        });
        $(".owl-carousel-3").owlCarousel({
            loop: true,
            margin: 30,
            center: true,
            responsiveClass: true,
            animateOut: 'animate__fadeOut', // Use Animate.css animation classes
            animateIn: 'animate__fadeIn',
            responsive:{
                0:{
                    items:1
                },
                600:{
                    items:3
                }
            }
        });
        // Custom autoplay function with reverse logic
        function customAutoplay() {
            if (!reverse) {
                // Normal forward autoplay
                owl2.trigger('next.owl.carousel');
                if (owl2.find('.owl-item').last().hasClass('active')) {
                    reverse = true; // Start reversing when reaching the end
                }
            } else {
                // Reverse autoplay
                owl2.trigger('prev.owl.carousel');
                if (owl2.find('.owl-item').first().hasClass('active')) {
                    reverse = false; // Start moving forward again when reaching the start
                }
            }
        }
    
        // Set interval for custom autoplay
        setInterval(customAutoplay, autoplaySpeed);
    });
    

    //search icon
    document.getElementById('searchButton').addEventListener('click', function(e){
        e.preventDefault();
        var locationItem = document.querySelector('.location-item');
        var searchItem = document.querySelector('.search-item');
            // Hide the list items
    locationItem.style.display = 'none';
    searchItem.style.display = 'none';

    var searchInputContainer = document.getElementById('searchInputContainer');
    var locationarrow = document.getElementById('locationarrow');
    searchInputContainer.classList.remove('d-none');
    searchInputContainer.style.display = 'block';
    locationarrow.classList.remove('d-none');
    locationarrow.style.display = 'block';
        // Adjust gap between location arrow and search input container
        // var navbarNav1 = document.querySelector('.navbar-nav1');
        // navbarNav1.style.gap = '10px'; // Set gap to 5px when search is active
    
        })

        document.addEventListener('DOMContentLoaded', function () {
            var myModalElement = document.getElementById('myModal');
            var secondModalElement = document.getElementById('secondModal');

            var myModal = new bootstrap.Modal(myModalElement, {
                backdrop: 'static',
                keyboard: true // Allows closing with the keyboard (e.g., Escape key)
            });
            myModal.show();
            var secondModal = new bootstrap.Modal(secondModalElement, {
                backdrop: 'static', // Prevent closing when clicking outside
                keyboard: true // Allows closing with the keyboard (e.g., Escape key)
            });

    // Handle custom close button click
    var customCloseButton = document.getElementById('customCloseButton');
    customCloseButton.addEventListener('click', function () {
        myModal.hide();
    });


       // Handle "OK" button click in the first modal
       var submitButton = document.getElementById('submitButton');
       submitButton.addEventListener('click', function () {
           myModal.hide(); // Close the first modal
           setTimeout(function () {
               secondModal.show(); // Open the second modal after a short delay
           }, 300); // Adjust delay if needed
       });
   
           // Handle custom close button click
    var customCloseButton = document.getElementById('instructionclosebtn');
    customCloseButton.addEventListener('click', function () {
        secondModal.hide();
    });
    var submitinstructionButton = document.getElementById('submitinstructionButton');
    submitinstructionButton.addEventListener('click', function () {
        secondModal.hide(); // Close the first modal
       
    });

        });


        
        const arrivalBtn = document.getElementById('arrivalBtn');
        const departureBtn = document.getElementById('departureBtn');
        
        // Function to update button styles
        function updateButtonStyles(activeBtn, inactiveBtn) {
            activeBtn.classList.add('modal-btn-active');
            activeBtn.classList.remove('modal-btn-inactive');
            inactiveBtn.classList.add('modal-btn-inactive');
            inactiveBtn.classList.remove('modal-btn-active');
        }
        
        // Initialize the button states
        updateButtonStyles(arrivalBtn, departureBtn);
        
        // Event listeners for buttons
        arrivalBtn.addEventListener('click', function() {
            updateButtonStyles(arrivalBtn, departureBtn);
        });
        
        departureBtn.addEventListener('click', function() {
            updateButtonStyles(departureBtn, arrivalBtn);
        });

        const suggestions = [
            "Apple", "Banana", "Cherry", "Date", "Elderberry", "Fig", "Grape", "Honeydew",
            "Kiwi", "Lemon", "Mango", "Nectarine", "Orange", "Papaya", "Quince", "Raspberry",
            "Strawberry", "Tomato", "Ugli fruit", "Watermelon"
        ];
    
        const input = document.getElementById('autoSuggestInput');
        const suggestionBox = document.getElementById('suggestions');
        const clearButton = document.getElementById('clearButton');
    
        input.addEventListener('input', function() {
            const inputValue = this.value.toLowerCase();
            suggestionBox.innerHTML = '';
    
            if (inputValue) {
                const filteredSuggestions = suggestions.filter(item =>
                    item.toLowerCase().includes(inputValue)
                );
    
                filteredSuggestions.forEach(item => {
                    const div = document.createElement('div');
                    div.classList.add('suggestion-item');
                    div.innerText = item;
                    div.addEventListener('click', function() {
                        input.value = item;
                        suggestionBox.innerHTML = '';
                        clearButton.style.display = 'none'; // Hide clear button after selection
                    });
                    suggestionBox.appendChild(div);
                });
    
                clearButton.style.display = 'block';  // Show clear button when there's text
            } else {
                clearButton.style.display = 'none';  // Hide clear button if input is empty
            }
        });
    
        clearButton.addEventListener('click', function() {
            input.value = '';
            suggestionBox.innerHTML = '';
            clearButton.style.display = 'none';  // Hide clear button when clicked
        });


        

        //instruction from backend pannel
        const apiResponse = `
        <div class="row">
            <div class="col-md-12">
                <h3 class="mb-3">Duty-Free Purchase Guidelines</h3>
                <p>
                    Any person entering Malaysia, foreign tourists who intend to visit Malaysia for a period of not less than <strong>48 hours</strong> OR Malaysian citizens who are returning after an absence from Malaysia of not less than <strong>48 hours</strong> are <strong>ELIGIBLE/PERMITTED</strong> to purchase duty-free goods.
                </p>
                <p>
                    Duty-free Alcohol/Liquor is not sellable to <strong>individuals below 21 years old</strong> and sold to <strong>non-Muslim customers ONLY</strong>.
                </p>
                <p>
                    Sales quota allowable for qualified buyers entering Malaysia:
                </p>
                <p>
                    Sale of goods in excess of the quantity limit set as in Item 10A of the Customs Duty (Exemption) Order 2017, Item 16, Schedule A of the Sales Tax (Persons Exempt from Payment of Tax) Order 2018, and Item 36A, Excise Duty (Exemption) Order 2017 are subject to payment of duty/tax at the Passenger Inspection Branch where the Duty-Free Shops are located. The duty/tax rates are as follows:
                </p>
                <ul>
                    <li>Liquor - in accordance with the current Customs Duty Order.</li>
                    <li>Goods other than liquor - 10% ad valorem rate.</li>
                </ul>
            </div>
        </div>
        <div class="row mt-5">
            <div class="col-md-12">
                <h3 class="mb-3">PANDUAN PEMBELIAN BARANGAN BEBAS CUKAI (KETIBAAN)</h3>
                <p>
                    Pelancong luar negara yang tiba dan berhasrat untuk berada di Malaysia untuk satu tempoh yang tidak kurang dari <strong>48 jam</strong> atau warganegara Malaysia yang tiba setelah berada di luar negara melebihi <strong>48 jam</strong> <strong>LAYAK/DIBENARKAN</strong> untuk membeli barangan bebas cukai.
                </p>
                <p>
                    Minuman keras tidak boleh dijual kepada pembeli berumur <strong>dibawah 21 tahun</strong> dan kebawah atau kepada pembeli <strong>beragama Islam</strong>.
                </p>
                <p>
                    Penjualan barang-barang melebihi had kuantiti yang ditetapkan seperti di Butiran 10A Perintah Duti Kastam (Pengecualian) 2017, Butiran 16, Jadual A Perintah Cukai Jualan (Orang Yang Dikecualikan Daripada Pembayaran Cukai) 2018 dan Butiran 36A, Perintah Duti Eksais (Pengecualian) 2017 adalah tertakluk kepada pembayaran duti / cukai di Cawangan Pemeriksaan Penumpang di mana premis Kedai Bebas Cukai berada. Kadar duti / cukai adalah seperti berikut:
                </p>
                <ul>
                    <li>Minuman keras – berpandukan Perintah Duti Kastam yang sedang berkuatkuasa.</li>
                    <li>Barang-barang selain minuman keras - kadar 10% ad valorem.</li>
                </ul>
            </div>
        </div>
    `;

    // Insert the API response into the content container
    document.getElementById('content-container').innerHTML = apiResponse;


    document.getElementById("togglePassword").addEventListener("click", function () {
        const passwordInput = document.getElementById("passwordInput");
        const icon = this.querySelector("i");
      
        // Toggle the type attribute
        if (passwordInput.type === "password") {
          passwordInput.type = "text";
          icon.classList.remove("fa-eye");
          icon.classList.add("fa-eye-slash");
        } else {
          passwordInput.type = "password";
          icon.classList.remove("fa-eye-slash");
          icon.classList.add("fa-eye");
        }
      });
      

      const brands = ["Hershey's", "M&M's", "Hugo Boss", "Chivas", "Dewars"];
      const products = [
          "Assorted Naps Carrier Box 500g", "HENNESSY XO 1L", "VSOP Red Barrel 1L"
      ];
      
      const inputsuggesstion = document.getElementById('customSearchInput');
      const brandSuggestions = document.querySelector('#brandSuggestions ul');
      const productSuggestions = document.querySelector('#productSuggestions ul');
      const homesuggestionBox = document.getElementById('customSuggestionBox');
      const homeclearButton = document.getElementById('clearButton');
      const navSmall = document.getElementById('small-nav');
      const carouselPart = document.getElementById('carousal-indicator');

      inputsuggesstion.addEventListener('input', function() {
          const inputValue = this.value.toLowerCase();
          brandSuggestions.innerHTML = '';
          productSuggestions.innerHTML = '';
          navSmall.style.zIndex=-1;
          carouselPart.style.zIndex=-1;
          if (inputValue) {
              const filteredBrands = brands.filter(item =>
                  item.toLowerCase().includes(inputValue)
              );
              const filteredProducts = products.filter(item =>
                  item.toLowerCase().includes(inputValue)
              );
      
              filteredBrands.forEach(item => {
                  const li = document.createElement('li');
                  li.classList.add('custom-suggestion-item');
                  li.innerHTML = `<i class="fa-solid fa-magnifying-glass"></i> ${item}`;
                  li.addEventListener('click', function() {
                      inputsuggesstion.value = item;
                      homesuggestionBox.classList.add('d-none');
                      homeclearButton.classList.add('d-none');
                      navSmall.style.zIndex = 1;
                      carouselPart.style.zIndex = 1;
                  });
                  brandSuggestions.appendChild(li);
              });
      
              filteredProducts.forEach(item => {
                  const li = document.createElement('li');
                  li.classList.add('custom-suggestion-item');
                  li.innerHTML = `<i class="fa-solid fa-magnifying-glass"></i> ${item}`;
                  li.addEventListener('click', function() {
                    inputsuggesstion.value = item;
                      homesuggestionBox.classList.add('d-none');
                      homeclearButton.classList.add('d-none');
                  });
                  productSuggestions.appendChild(li);
              });
      
              homesuggestionBox.classList.remove('d-none');
              homeclearButton.classList.remove('d-none');
              navSmall.style.zIndex = -1;
              carouselPart.style.zIndex = -1;
          } else {
            homesuggestionBox.classList.add('d-none');
              homeclearButton.classList.add('d-none');
              navSmall.style.zIndex = 1;
              carouselPart.style.zIndex = 1;
          }
      });
      
      clearButton.addEventListener('click', function() {
        inputsuggesstion.value = '';
          brandSuggestions.innerHTML = '';
          productSuggestions.innerHTML = '';
          homesuggestionBox.classList.add('d-none');
          homeclearButton.classList.add('d-none');
      });

      document.querySelectorAll('.icon-card').forEach(function(card) {
        card.addEventListener('click', function() {
            document.querySelectorAll('.icon-card').forEach(function(c) {
                c.classList.remove('active');
                c.classList.add('bg-light');
            });
            this.classList.add('active');
            this.classList.remove('bg-light');
            console.log('Selected:', this.getAttribute('data-name'));
        });
    });